{"version":3,"file":"vue.js","sources":["../src/util.js","../src/global-api/index.js","../src/complier/generate.js","../src/complier/parse.js","../src/complier/index.js","../src/observer/dep.js","../src/observer/schedular.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observer/array.js","../src/observer/index.js","../src/state.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["let callbacks = [];\r\nlet waiting = false;\r\n\r\nfunction flushCallbacks() {\r\n    for(let i = 0; i <callbacks.length;i++){\r\n        let callback = callbacks[i];\r\n        callback();\r\n    }\r\n    waiting = false;\r\n    callbacks = [];\r\n}\r\n\r\nexport function nextTick(cb) {\r\n    callbacks.push(cb);\r\n    if(!waiting) {\r\n        waiting = true;\r\n         // 1.promise先看支持不支持 \r\n        // 2.mutationObserver\r\n        // 3.setImmdiate\r\n        // 4.setTimeout  Vue3 next-tick就直接用了promise\r\n        return Promise.resolve().then(flushCallbacks)\r\n    }\r\n}\r\n\r\n//vue 的生命周期函数\r\nlet strats = {}\r\nlet LIFECYCLE_HOOKS = [\r\n    'beforeCreate',\r\n    'created',\r\n    'beforeMount',\r\n    'mounted',\r\n    //....\r\n]\r\nfunction mergeHook(parentVal, childVal) {\r\n    if(childVal) {\r\n        if(parentVal) {\r\n            return parentVal.concat(childVal)\r\n        }else {\r\n            return [childVal]\r\n        }\r\n    }else {\r\n        return parentVal\r\n    }\r\n    \r\n}\r\nLIFECYCLE_HOOKS.forEach(hook=>{\r\n    strats[hook] = mergeHook;\r\n})\r\n\r\n\r\nexport function isObject(val) {\r\n    return typeof val === 'object' &&  val !== null;\r\n}\r\n\r\n\r\nexport function mergeOptions(parent, child) {\r\n    let options = {};\r\n    for(let key in parent) {\r\n        mergeField(key);\r\n    }\r\n\r\n    for(let key in child) {\r\n        if(parent.hasOwnProperty(key)) continue;\r\n        mergeField(key);\r\n    }\r\n\r\n    function mergeField(key) {\r\n        if(strats[key]) {\r\n            return options[key] = strats[key](parent[key], child[key]);\r\n        }\r\n        if(isObject(parent[key])) {\r\n            options[key] = {...parent[key], ...child[key]}\r\n        }else{\r\n            if(child[key]) {\r\n                options[key] = child[key]\r\n            }else {\r\n                options[key] = parent[key]\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    return options;\r\n}","\r\nimport {mergeOptions}  from \"../util\"\r\n\r\nexport function initGlobalAPI(Vue) {\r\n\r\n    Vue.options = {}\r\n\r\n    Vue.mixin = function(mixin) {\r\n        this.options =  mergeOptions(this.options, mixin);\r\n        return this;\r\n    }\r\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nfunction genProps(attrs) {\r\n    let str = '';\r\n    for(let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i];\r\n        if(attr.name==\"style\") {\r\n            let obj = {};\r\n            attr.value.split(';').forEach(item => {\r\n                if(item) {\r\n                    let [key, value] = item.split(':');\r\n                    obj[key] = value\r\n                }\r\n            });\r\n            attr.value = obj\r\n        }\r\n\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n    }\r\n    return `{${str.slice(0,-1)}}`\r\n}\r\nfunction gen(node) {\r\n    if(node.type == 1) {\r\n        return generate(node)\r\n    }else {\r\n        let text = node.text;\r\n        if(defaultTagRE.test(text)) {\r\n            let tokens = [];\r\n            let match ;\r\n            let index = 0;\r\n            let lastIndex = defaultTagRE.lastIndex = 0;\r\n            while(match = defaultTagRE.exec(text)){ // aa {{ age }} haha \r\n                index = match.index;\r\n                if(index >lastIndex){\r\n                    tokens.push(JSON.stringify(text.slice(lastIndex,index)));\r\n                }\r\n                tokens.push(`_s(${match[1].trim()})`);\r\n                lastIndex = index + match[0].length;\r\n            }\r\n            if(lastIndex < text.length){\r\n                tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n            }\r\n            return  `_v(${tokens.join('+')})`\r\n        }else {\r\n            return `_v(${JSON.stringify(text)})`\r\n        }\r\n    }\r\n}\r\n\r\nfunction genChildren(el) {\r\n    const children  = el.children;\r\n    if(children){\r\n        return children.map(child=>gen(child)).join(',')\r\n    }\r\n}\r\nexport function generate(el) {\r\n    let children = genChildren(el);\r\n    let code = `_c('${el.tag}',${el.attrs.length!=0?genProps(el.attrs):'undefined'}${children?','+children:''})`;\r\n    return code;   \r\n}\r\n\r\n/**\r\n * 将字符串 转成可运行的js\r\n * <div id=\"app\" a=1 b =\"2\">\r\n *    hello \r\n *    <div style=\"color: red\">\r\n *         <span>! {{ name}} !</span>\r\n *    </div>\r\n * </div>\r\n * _c('div',{id:'app',a:1,b:'2'},\r\n *      _v(\"hello\"),\r\n *      _c('div', {style:{color: 'red}}, \r\n *          _c('span',undefined, \r\n *              _v('!' + _s(name) + '!')\r\n *          )\r\n *      )\r\n * )\r\n */","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // aa-aa \r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //aa:aa\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 可以匹配到标签名  [1]\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //[0] 标签的结束名字\r\n//    style=\"xxx\"   style='xxx'  style=xxx\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n\r\n\r\nexport function parseHTML(html) {\r\n    let root;\r\n    let currentParent;\r\n    let stack = []\r\n\r\n\r\n    function createASTElement(tag, attrs) {\r\n        return {\r\n            tag,\r\n            attrs,\r\n            type: 1,\r\n            children: [],\r\n            parent: null\r\n        }\r\n\r\n    }\r\n\r\n\r\n    function start(tagName, attrs) {\r\n        let node = createASTElement(tagName, attrs);\r\n        if(root == null) {\r\n            root = node;\r\n        }\r\n        currentParent = node;\r\n        stack.push(node);\r\n    }\r\n\r\n    function end(tagName) {\r\n        let node = stack.pop();\r\n        if(node.tag != tagName) {\r\n            throw Error(\"解析报错\");\r\n        }\r\n\r\n        currentParent = stack[stack.length - 1];\r\n        if(currentParent) {\r\n            node.parent = currentParent;\r\n            currentParent.children.push(node);\r\n        }\r\n    }\r\n\r\n    function chars(text) {\r\n        text = text.replace(/\\s/g,\"\");\r\n        if(text) {\r\n            currentParent.children.push({\r\n                text,\r\n                type: 3\r\n            })\r\n        }\r\n    }\r\n\r\n    function advance(n) {\r\n        html = html.substring(n)\r\n    }\r\n\r\n    function parseStartTag() {\r\n        let start = html.match(startTagOpen);\r\n        if(start) {\r\n            let match = {\r\n                tagName: start[1],\r\n                attrs: []\r\n            }\r\n            advance(start[0].length);\r\n\r\n            let end, attr;\r\n            while(!(end=html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                match.attrs.push({\r\n                    name: attr[1],\r\n                    value: attr[3] || attr[4] || attr[5] || true\r\n                })\r\n                advance(attr[0].length)\r\n            }\r\n            if(end) {\r\n                advance(end[0].length)\r\n                return match\r\n            }\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    while(html) {\r\n        let textEnd = html.indexOf(\"<\");\r\n        if(textEnd == 0) {//标签\r\n            let startTagMatch = parseStartTag();\r\n            if(startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue\r\n            }\r\n\r\n            let endTagMatch = html.match(endTag);\r\n            if(endTagMatch) {\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[1]);\r\n                continue;\r\n            }\r\n\r\n\r\n        }\r\n        if(textEnd > 0) {//文本\r\n            let text = html.substring(0, textEnd);\r\n            advance(text.length);\r\n            chars(text);\r\n        }\r\n    }\r\n    return root;\r\n}","import { generate } from \"./generate.js\";\r\nimport { parseHTML } from \"./parse.js\";\r\nexport function compileToFunctions(template) {\r\n    //获取ast树\r\n    let ast = parseHTML(template);\r\n    \r\n    //获得可运行的render函数\r\n    let code = generate(ast);\r\n    let render = `with(this){return ${code}}`\r\n    let fn = new Function(render);\r\n    return fn\r\n}\r\n\r\n// function a(){\r\n//     with(this) {\r\n//         console.log(b)\r\n//     }\r\n// }\r\n// a.call({b:1}) // 1","\r\nlet id = 0;\r\n\r\nclass Dep{\r\n    constructor() {\r\n        this.id = id++;\r\n        this.subs = []\r\n    }\r\n\r\n    depend() {\r\n        Dep.target.addDep(this); //让每个watcher 记住dep\r\n    }\r\n\r\n    addSub(watcher) {\r\n        this.subs.push(watcher)\r\n    }\r\n\r\n    notify() {\r\n        this.subs.forEach(watcher=>{\r\n            watcher.update()\r\n        })\r\n    }\r\n}\r\n\r\nDep.target = null;\r\n\r\nexport function pushTarget(watcher) {\r\n    Dep.target = watcher\r\n}\r\n\r\nexport function popTarget() {\r\n    Dep.target = null;\r\n}\r\n\r\n\r\nexport default Dep;","import { nextTick } from \"../util\";\r\n\r\nlet has = {};\r\nlet queue = [];\r\nlet pending = false\r\nfunction flushSchedularQueue() {\r\n    for(let i = 0; i < queue.length; i++) {\r\n        let watcher = queue[i];\r\n        watcher.run();\r\n    }\r\n    has = {};\r\n    queue = [];\r\n    pending = false;\r\n}\r\nexport function queueWatcher(watcher){\r\n    let id = watcher.id;\r\n    if(!has[id]) {\r\n        has[id] = true;\r\n        queue.push(watcher);\r\n        if(!pending) {\r\n            pending = true;\r\n            nextTick(flushSchedularQueue)\r\n        }\r\n    }\r\n\r\n}","import Dep, { popTarget, pushTarget } from \"./dep\";\r\nimport { queueWatcher } from \"./schedular\";\r\n\r\nlet id = 0;\r\nclass Watcher{\r\n    constructor(vm, exprOrFn, cb, options) {\r\n        this.vm = vm;\r\n        this.cb = cb;\r\n        this.options = options;\r\n        this.id = id++;\r\n        this.getter = exprOrFn;\r\n        this.deps = [];\r\n        this.depsId = new Set();\r\n        this.get(); // 调用传入的函数， 调用了render方法， 此时会对模板中的数据进行取值\r\n    }\r\n\r\n    get() {\r\n        //当页面渲染时，注册一个watcher\r\n        pushTarget(this);\r\n        this.getter();\r\n        popTarget();\r\n    }\r\n\r\n    addDep(dep) {\r\n        let id = dep.id;\r\n        if(!this.depsId.has(id)) {\r\n            this.deps.push(dep);\r\n            this.depsId.add(id);\r\n            dep.addSub(this);\r\n        }\r\n    }\r\n\r\n    run() {\r\n        this.get()\r\n    }\r\n    update() {\r\n        queueWatcher(this);\r\n    }\r\n}\r\n\r\nexport default Watcher;","export function patch(oldVnode, vnode) {\r\n    // oldVnode 是一个真实的元素\r\n    const isRealElement = oldVnode.nodeType\r\n    if (isRealElement) {\r\n        // 初次渲染\r\n        const oldElm = oldVnode; // id=\"app\"\r\n        const parentElm = oldElm.parentNode; // body\r\n        let el = createElm(vnode);\r\n        parentElm.insertBefore(el, oldElm.nextSibling); // 将创建的节点查到原有的节点的下一个\r\n        parentElm.removeChild(oldElm);\r\n        return el; // vm.$el\r\n    } else {\r\n        // diff算法\r\n    }\r\n}\r\n\r\nfunction createElm(vnode) { // 根据虚拟节点创建真实的节点\r\n    let { tag, children, key, data, text, vm } = vnode;\r\n    if(typeof tag === 'string'){\r\n        // 可能是组件\r\n        vnode.el =  document.createElement(tag); // 用vue的指令时 可以通过vnode拿到真实dom\r\n        updateProperties(vnode);\r\n        children.forEach(child=>{ // 如果有儿子节点，就进行递归操作\r\n           vnode.el.appendChild(createElm(child))\r\n        })\r\n    }else{\r\n        vnode.el = document.createTextNode(text)\r\n    }\r\n\r\n    return vnode.el;\r\n}\r\nfunction updateProperties(vnode){\r\n    let newProps = vnode.data || {}; // 属性\r\n    let el = vnode.el; // dom元素\r\n\r\n    for(let key in newProps){\r\n        if(key == 'style'){\r\n            for(let styleName in newProps.style){\r\n                el.style[styleName] = newProps.style[styleName]\r\n            }\r\n        }else if(key === 'class'){\r\n            el.className = newProps.class\r\n        }else{\r\n            el.setAttribute(key,newProps[key]);\r\n        }\r\n    }\r\n}","import Watcher from \"./observer/watcher\"\r\nimport {patch} from './vdom/patch'\r\n\r\nexport function lifecycleMixin(Vue) {\r\n    Vue.prototype._update = function(vnode) {\r\n        const vm = this;\r\n        vm.$el = patch(vm.$el, vnode);\r\n    }\r\n}\r\n\r\nexport function callHook(vm, hook) {\r\n    let handlers = vm.$options[hook];\r\n    handlers.forEach(handler=>{\r\n        handler.call(vm)\r\n    })\r\n}\r\n\r\n//组件挂载\r\nexport function mountComponent(vm, el) {\r\n     // 默认vue是通过watcher来进行渲染  = 渲染watcher （每一个组件都有一个渲染watcher）\r\n    let updateComponent = () => {\r\n        let vnode = vm._render();//生成虚拟节点\r\n        vm._update(vnode);//将虚拟节点转为真实节点\r\n    }\r\n\r\n    new Watcher(vm, updateComponent, () => {}, true); // updateComponent();\r\n\r\n}","let oldArrayMethods = Array.prototype;\r\n\r\nexport let arrayMethods = Object.create(Array.prototype);\r\n\r\nlet methods = [\r\n    'push',\r\n    'pop',\r\n    'unshift',\r\n    'shift',\r\n    'splice',\r\n    'reserve',\r\n    'sort'\r\n]\r\n\r\nmethods.forEach(method=> {\r\n    arrayMethods[method] = function(...args) {\r\n        let res = oldArrayMethods[method].call(this, ...args);\r\n        \r\n        let ob = this.__ob__;\r\n        let inserted;\r\n        switch (method) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args;    \r\n                break;\r\n            case 'splice':\r\n                inserted = args.slice(2)\r\n        }\r\n        // console.log(`调用了数组${method}方法`);\r\n        if(inserted) ob.observeArray(inserted);\r\n        ob.dep.notify();\r\n        return res;\r\n    }\r\n})\r\n","import { arrayMethods } from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nclass Observer{\r\n    constructor(value) {\r\n        Object.defineProperty(value, \"__ob__\", {\r\n            configurable: false,\r\n            enumerable: false,\r\n            value: this,\r\n        })\r\n        this.dep = new Dep(); // 给数组本身和对象本身增加一个dep属性\r\n        if(Array.isArray(value)) {\r\n            //监听删除、添加、排序、反转元素的方法\r\n            Object.setPrototypeOf(value, arrayMethods)\r\n            this.observeArray(value);\r\n        }else{\r\n            this.walk(value);\r\n        }\r\n        \r\n    }\r\n\r\n    observeArray(value) {\r\n        for(let i = 0, len = value.length; i < len; i++) {\r\n            observe(value[i]);\r\n        }\r\n    }\r\n\r\n    walk(data) {\r\n        Object.keys(data).forEach(key=>{\r\n            defineReactive(data, key, data[key])\r\n        })\r\n    }\r\n}\r\nfunction dependArray(value){ // 就是让里层数组收集外层数组的依赖，这样修改里层数组也可以更新视图 \r\n    for(let i = 0 ; i < value.length;i++){\r\n        let current = value[i];\r\n        current.__ob__ && current.__ob__.dep.depend(); // 让里层的和外层收集的都是同一个watcher\r\n        if(Array.isArray(current)){\r\n            dependArray(current);\r\n        }\r\n    }\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n    let childOb = observe(value);\r\n    let dep = new Dep(); // 每次都会给属性创建一个dep\r\n    Object.defineProperty(data, key, {\r\n        get() {\r\n            if(Dep.target){\r\n                dep.depend();// 让这个属性自己的dep记住这个watcher，也要让watcher记住这个dep\r\n                if(childOb){ // 如果对数组取值 会将当前的watcher和数组进行关联\r\n                    childOb.dep.depend();\r\n                    if(Array.isArray(value)){\r\n                        dependArray(value);\r\n                    }\r\n                }\r\n                \r\n            }\r\n            return value\r\n        },\r\n        set(newValue) {\r\n            if(newValue === value) return;\r\n            value = newValue;\r\n            observe(newValue);\r\n            dep.notify();// 通知dep中记录的watcher让它去执行\r\n        }\r\n    })\r\n}\r\nexport function observe(data) {\r\n\r\n    if(typeof data !== 'object' || data === null) {\r\n        return\r\n    }\r\n    if(data.__ob__){ // 放置循环引用了\r\n        return;\r\n    }\r\n    return new Observer(data)\r\n}","import { observe } from \"./observer/index\";\r\n\r\nexport function initState(vm) {\r\n    const opts = vm.$options;\r\n    if(opts.data) {\r\n        initData(vm)\r\n    }\r\n}\r\n\r\nfunction proxy(target, source, key) {\r\n    Object.defineProperty(target, key, {\r\n        get() {\r\n            return target[source][key]\r\n        },\r\n        set(newValue) {\r\n            target[source][key] = newValue;\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction initData(vm) {\r\n    let data = vm.$options.data;\r\n    data = vm._data = typeof data === 'function' ? data() : data;\r\n\r\n    for(let key in data) {\r\n        //将data上的数据挂载到vm上\r\n        proxy(vm, '_data', key);\r\n    }\r\n    observe(data);\r\n}\r\n\r\n","import { compileToFunctions } from \"./complier/index\";\r\nimport { callHook, mountComponent } from \"./lifecycle\";\r\nimport { initState } from \"./state\";\r\nimport { mergeOptions, nextTick } from \"./util\";\r\n\r\n\r\nexport function initMixin(Vue){\r\n    Vue.prototype._init = function(options) {\r\n        let vm = this;\r\n        vm.$options = mergeOptions(vm.constructor.options, options);\r\n        //初始化状态\r\n        callHook(vm,'beforeCreate');\r\n        initState(vm);\r\n        callHook(vm,'created');\r\n\r\n        if(vm.$options.el) {//获取要渲染的模板\r\n            this.$mounted(vm.$options.el)\r\n        }\r\n    }\r\n    Vue.prototype.$nextTick = nextTick\r\n    Vue.prototype.$mounted = function(el) {\r\n        el = document.querySelector(el);\r\n        const vm = this;\r\n        const options = vm.$options;\r\n        vm.$el = el;\r\n        // 获取render\r\n        if(!options.render) {\r\n            let template = options.template;\r\n            if(!template && el) {\r\n                template = el.outerHTML;\r\n            }\r\n            const render = compileToFunctions(template);\r\n            options.render = render\r\n        }\r\n\r\n        mountComponent(vm, el);\r\n        \r\n    }\r\n}\r\n\r\n","//创建虚拟节点\r\nexport function createElement(vm, tag, data={}, ...children){\r\n    return vnode(vm,tag,data, data.key,children, undefined)\r\n}\r\n\r\nexport function createTextVnode(vm, text) {\r\n    return vnode(vm, undefined, undefined, undefined, undefined, text)\r\n}\r\n\r\n\r\nfunction vnode(vm, tag, data, key,children, text) {\r\n    return {\r\n        vm, \r\n        tag,\r\n        data,\r\n        key,\r\n        children,\r\n        text\r\n    }\r\n}","import { createElement, createTextVnode } from \"./vdom/index\"\r\n\r\nexport function renderMixin(Vue) {\r\n    Vue.prototype._c = function(...args) {\r\n        return createElement(this, ...args);\r\n    }\r\n    Vue.prototype._v = function(text) {\r\n        return createTextVnode(this, text);\r\n    }\r\n    Vue.prototype._s = function(val) {\r\n        return val == null ? \"\" : typeof val === 'object' ? JSON.stringify(val) : val\r\n    }\r\n    Vue.prototype._render = function() {\r\n        let vm = this;\r\n        let render = vm.$options.render;\r\n        let vnode = render.call(vm);\r\n        return vnode\r\n    }\r\n}","import { initGlobalAPI } from \"./global-api/index\";\r\nimport { initMixin } from \"./init\";\r\nimport { lifecycleMixin } from \"./lifecycle\";\r\nimport { renderMixin } from \"./render\";\r\n\r\n\r\nfunction Vue(options) {\r\n    this._init(options)\r\n}\r\n\r\ninitMixin(Vue);\r\nlifecycleMixin(Vue);\r\nrenderMixin(Vue);\r\n\r\ninitGlobalAPI(Vue);\r\n\r\nexport default Vue;"],"names":["callbacks","waiting","flushCallbacks","i","length","callback","nextTick","cb","push","Promise","resolve","then","strats","LIFECYCLE_HOOKS","mergeHook","parentVal","childVal","concat","forEach","hook","isObject","val","mergeOptions","parent","child","options","key","mergeField","hasOwnProperty","initGlobalAPI","Vue","mixin","defaultTagRE","genProps","attrs","str","attr","name","obj","value","split","item","JSON","stringify","slice","gen","node","type","generate","text","test","tokens","match","index","lastIndex","exec","trim","join","genChildren","el","children","map","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","root","currentParent","stack","createASTElement","start","tagName","end","pop","Error","chars","replace","advance","n","substring","parseStartTag","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunctions","template","ast","render","fn","Function","id","Dep","constructor","subs","depend","target","addDep","addSub","watcher","notify","update","pushTarget","popTarget","has","queue","pending","flushSchedularQueue","run","queueWatcher","Watcher","vm","exprOrFn","getter","deps","depsId","Set","get","dep","add","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","createElm","insertBefore","nextSibling","removeChild","data","document","createElement","updateProperties","appendChild","createTextNode","newProps","styleName","style","className","class","setAttribute","lifecycleMixin","prototype","_update","$el","callHook","handlers","$options","handler","call","mountComponent","updateComponent","_render","oldArrayMethods","Array","arrayMethods","Object","create","methods","method","args","res","ob","__ob__","inserted","observeArray","Observer","defineProperty","configurable","enumerable","isArray","setPrototypeOf","walk","len","observe","keys","defineReactive","dependArray","current","childOb","set","newValue","initState","opts","initData","proxy","source","_data","initMixin","_init","$mounted","$nextTick","querySelector","outerHTML","undefined","createTextVnode","renderMixin","_c","_v","_s"],"mappings":"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"}